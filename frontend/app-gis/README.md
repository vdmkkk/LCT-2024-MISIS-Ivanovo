# LCT-2024 (app-gis)

[![wakatime](https://wakatime.com/badge/user/f91e3133-70e3-471d-8d86-7670d93fecbf/project/90ccd0f7-9b95-4faf-a2c8-f8762e4fb947.svg)](https://wakatime.com/badge/user/f91e3133-70e3-471d-8d86-7670d93fecbf/project/90ccd0f7-9b95-4faf-a2c8-f8762e4fb947)

# Документация к Frontend решению

LeftPanel – навигационная панель, содержит в себе основные элементы управления
Загрузка файлов – экран с возможностью догрузить новые excel таблицы
Статистика за последние две недели – общая для всех объектов
Уведомления – диспетчер получает сообщения о новых авариях
Фильтр – сортировка и выборка объектов на основе параметров, озвученных в тз (активен только в режиме мониторинга)
Выбор режима – Мониторинг, Аварийный, Предсказания.

# Режим мониторинга

Предназначен для обширной аналитики данных. Выводятся все объекты, соответствующие фильтрам. При нажатии на объект, открывается RightPanel.

# RightPanel – хранит в себе всю информацию об объекте

Паспорт – статические данные объекта, собранные из агрегированных таблиц
Сводка – динамические показатели объекта, т.е. показатели счетчиков и прочее. Выводятся последние полученные данные по объекту
История аварий – аналитика уже случившихся происшествий, анализ их причин и последствий. При нажатии на аварию открывается диалоговое окно с возможностью изменения данных
Предсказание – сервис анализирует данные о различных событиях. Выводит вероятности того, что каждое из событий снова сбудется в определенную дату (в виде графика с таймлайном)

# Аварийный режим

Показывает только активные аварии, т.е. те, к которым только предстоит предпринять определенные меры. Аварии бывают как на объектах (иконка дома), так и на ЦТП (иконка трубы). При нажатии на иконку аварии, выделяются все затронутые объекты. С помощью цвета полигона передается один из двух параметров (на выбор с помощью переключателя сверху): часы до остывания и приоритет реагирования. Оба параметра считаются с помощью ML-сервиса, легенда тепловой карты указана в левом нижнем углу. Также при выделении аварии доступна кнопка «Открыть аварию», которая открывает упомянутое выше диалоговое окно. В нем все так же можно внести новые данные об аварии, или даже отметить ее «разрешенной».
При нажатии на полигон объекта, все так же открывается информация о нем в RightPanel

# ежим предсказаний

Необходим для краткосрочного планирования обслуживания объектов. Слева снизу легенда тепловой карты. Сверху переключатель событий, по которым строится тепловая карта. Снизу таймлайн, который позволяет выбрать день, на момент которого выводится вероятность совершения события. Важно: вероятность исполнения события В день (а не КО дню). При нажатии на полигон объекта все так же выводится информация в RightPanel.

# Билд сайта

http://gis.ivanovo.pro
Креды:
login: admin
password: admin
(по какой-то причине сортировка по району и принадлежность к тцп не рендерится на билде)

# Стек технологий

Quasar + Vite + Vue + TypeScript + SASS
Quasar имеет частичную поддержку микросервисной архитектуры, что позволяет быстро масштабировать решение. App-Gis был построен именно с таким заделом.

# Запуск микросервиса

Установить глобально quasar: https://quasar.dev/start/quasar-cli
В quasar.config есть параметр devServer – для использования локального доменного имени. Либо закомментировать devServer, либо вписать 127.0.0.1 service-desk.misis-ivanovo.loc (C:\Windows\System32\drivers\etc\hosts.txt на Windows, /etc/hosts на Linux)
Установить зависимости: «npm i» (node >= 18 в идеале)
Команда для запуска: «quasar dev»
